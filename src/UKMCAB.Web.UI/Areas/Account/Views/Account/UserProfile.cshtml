@using UKMCAB.Web.UI.Areas.Account.Controllers
@model UserProfileViewModel

@if (Model.IsEdited)
{
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            <div class="govuk-notification-banner govuk-notification-banner--success" role="alert"
                 aria-labelledby="govuk-notification-banner-title"
                 data-module="govuk-notification-banner">
                <div class="govuk-notification-banner__header">
                    <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
                        Success
                    </h2>
                </div>
                <div class="govuk-notification-banner__content">
                    <h3 class="govuk-notification-banner__heading">
                        Your details have been updated
                    </h3>
                </div>
            </div>
        </div>
    </div>
}


<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-l">My details</h1>
    </div>
</div>

<div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
        <div id="user-profile-my-details" class="govuk-form-group">
            <dl class="govuk-summary-list">
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        First name
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Html.ValueOrNotProvided(Model.FirstName)
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Last name
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Html.ValueOrNotProvided(Model.LastName)
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Contact email
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Html.ValueOrNotProvided(Model.ContactEmailAddress)
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Organisation
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Html.ValueOrNotProvided(Model.OrganisationName)
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        User group
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Html.ValueOrNotProvided(UKMCAB.Core.Security.Roles.NameFor(Model.Role))
                    </dd>
                </div>
                <div class="govuk-summary-list__row">
                    <dt class="govuk-summary-list__key">
                        Last log in
                    </dt>
                    <dd class="govuk-summary-list__value">
                        @Html.ValueOrNone(Model.LastLogonUtc?.ToString(Constants.DateTimeFormat))
                    </dd>
                </div>
            </dl>
            <div class="additional-row" >
                <a href="https://home.account.gov.uk/settings" class="govuk-link" rel="noreferrer noopener" target="_blank">Manage your GOV One Login</a>
            </div>
        </div>   

        <div class="govuk-button-group">
            <a class="govuk-button" data-module="govuk-button" asp-route="@AccountController.Routes.EditProfile">
                Edit
            </a>
        </div>
    </div>
</div>
